[tool:pytest]
# Конфігурація pytest для LLM Attack Analysis System

# Тестові файли та папки
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Налаштування виводу
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes

# Маркери для тестів
markers =
    unit: Unit тести
    integration: Інтеграційні тести
    slow: Повільні тести
    security: Тести безпеки
    web: Тести веб-додатку
    attack: Тести модуля атак
    defense: Тести модуля захисту
    simulation: Тести модуля симуляції
    utils: Тести утиліт

# Налаштування покриття
addopts = 
    --cov=.
    --cov-report=term-missing
    --cov-report=html:htmlcov
    --cov-report=xml:coverage.xml
    --cov-fail-under=80

# Фільтри для покриття
cov_exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod

# Налаштування для різних середовищ
env =
    PYTHONPATH = .
    TESTING = true
    DEBUG = false

# Налаштування для CI/CD
minversion = 6.0
required_plugins = 
    pytest-cov
    pytest-html
    pytest-xdist

# Налаштування для паралельного виконання
addopts = 
    -n auto
    --dist=loadfile

# Налаштування для звітів
addopts = 
    --html=test_reports/report.html
    --self-contained-html
    --junitxml=test_reports/junit.xml

# Налаштування для фільтрації тестів
addopts = 
    -k "not slow"
    -m "not slow"

# Налаштування для повторних запусків
addopts = 
    --reruns 2
    --reruns-delay 1

# Налаштування для таймаутів
addopts = 
    --timeout=300
    --timeout-method=thread

# Налаштування для логування
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Налаштування для відлагодження
addopts = 
    --pdb
    --pdbcls=IPython.terminal.debugger:Pdb
    --maxfail=10

# Налаштування для збору метрик
addopts = 
    --durations=10
    --durations-min=1.0
    --cache-clear

# Налаштування для фільтрації попереджень
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning
    ignore::FutureWarning
    ignore::RuntimeWarning
    ignore::ImportWarning
    ignore::UnicodeWarning
    ignore::BytesWarning
    ignore::ResourceWarning
